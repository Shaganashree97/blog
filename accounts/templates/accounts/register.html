{% extends 'layout.html' %}

{% block title %}Register - Accounts{% endblock %}

{% block body %}
<div class="container mt-5 mb-5" 
     style="max-width: 450px; margin: auto; padding: 35px; background: #ffffff; border-radius: 12px; box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);">
  {% load static %}
  <form method="post" action="{% url 'accounts:register' %}">
    {% csrf_token %}
    <h1 class="text-center" 
        style="font-size: 28px; font-weight: bold; margin-bottom: 25px; color: #222; letter-spacing: 1px;">
      Create Account
    </h1>
    
    <div class="mb-3">
      <label for="username" class="form-label" style="font-weight: 600; color: #444;">
        Username
      </label>
      <input type="text" class="form-control" id="username" name="username" placeholder="Choose a username" required autofocus
             style="padding: 12px; border-radius: 6px; border: 1px solid #bbb; width: 100%; font-size: 15px;">
      <ul style="margin-top: 5px; padding-left: 15px; font-size: 13px; color: #777;">
        <li>Must be unique</li>
      </ul>
    </div>

    <div class="row mb-3">
      <div class="col-xs-12 col-sm-6">
        <label for="firstname" class="form-label" style="font-weight: 600; color: #444;">
          First Name
        </label>
        <input type="text" id="firstname" class="form-control" placeholder="First name" name="firstname" required
               style="padding: 12px; border-radius: 6px; border: 1px solid #bbb; width: 100%; font-size: 15px;">
      </div>
      <div class="col-xs-12 col-sm-6">
        <label for="lastname" class="form-label" style="font-weight: 600; color: #444;">
          Last Name
        </label>
        <input type="text" id="lastname" class="form-control" placeholder="Last name (optional)" name="lastname"
               style="padding: 12px; border-radius: 6px; border: 1px solid #bbb; width: 100%; font-size: 15px;">
      </div>
    </div>

    <div class="mb-3">
      <label for="email" class="form-label" style="font-weight: 600; color: #444;">
        Email
      </label>
      <input type="email" class="form-control" id="email" name="email" placeholder="Enter your email" required
             style="padding: 12px; border-radius: 6px; border: 1px solid #bbb; width: 100%; font-size: 15px;">
    </div>

    <div class="mb-3">
      <label for="password1" class="form-label" style="font-weight: 600; color: #444;">
        Password
      </label>
      <input type="password" class="form-control" id="password1" name="password1" placeholder="Create a password" required
             style="padding: 12px; border-radius: 6px; border: 1px solid #bbb; width: 100%; font-size: 15px;">
      <ul style="margin-top: 5px; padding-left: 15px; font-size: 13px; color: #777;">
        <li>At least 6 characters</li>
        <li>One digit required</li>
        <li>One special character required</li>
      </ul>
    </div>

    <div class="mb-3">
      <label for="password2" class="form-label" style="font-weight: 600; color: #444;">
        Confirm Password
      </label>
      <input type="password" class="form-control" id="password2" name="password2" placeholder="Confirm password" required
             style="padding: 12px; border-radius: 6px; border: 1px solid #bbb; width: 100%; font-size: 15px;">
    </div>

    <div class="form-check mb-3" style="display: flex; align-items: center;">
      <input class="form-check-input" type="checkbox" value="" id="agreeCheckbox" required
             style="margin-right: 8px; transform: scale(1.2);">
      <label class="form-check-label" for="agreeCheckbox" style="color: #555;">
        Agree to <a class="text-decoration-none" data-bs-toggle="modal" data-bs-target="#termsModal"
                    style="color: #007bff; font-weight: 600;">terms and conditions</a> 
      </label>
    </div>

    <button type="submit" class="btn w-100 mt-3"
            style="background: #28a745; border: none; padding: 14px; font-size: 16px; font-weight: bold; border-radius: 6px; color: #fff; cursor: pointer; transition: background 0.3s;">
      Register
    </button>

    <div class="mt-3 text-center">
      <p style="margin-bottom: 0; color: #555;">Already have an account? 
        <a href="{% url 'accounts:login' %}" class="text-decoration-none" 
           style="color: #007bff; font-weight: 600; text-decoration: underline;">Login</a>
      </p>
    </div>
  </form>
</div>

<div class="modal fade" id="termsModal" tabindex="-1" aria-labelledby="termsModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="termsModalLabel" style="color: #222; font-weight: bold;">Terms and Conditions</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body" style="font-size: 15px; color: #555;">
        <p>
          By registering, you agree to our terms and conditions, including privacy policies and community guidelines.
          <!-- <a href="{% url 'terms_and_conditions' %}" class="text-decoration-none">Read More</a> -->
        </p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal"
                style="padding: 8px 12px; font-size: 14px; border-radius: 6px;">
          Close
        </button>
        <button type="button" class="btn btn-primary" onclick="handleAgree()"
                style="padding: 8px 12px; font-size: 14px; border-radius: 6px;">
          Agree
        </button>
      </div>
    </div>
  </div>
</div>

<script src="{% static 'js/accounts/register.js' %}"></script>
{% endblock %}
